<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>WiFi Webcam - Mode Visualisation</title>
    <link rel="stylesheet" href="styles.css">	
    <!-- La bibliothèque QRCode est maintenant installée localement et sera importée via le renderer.js -->
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>WiFi Webcam - Mode Visualisation</h1>
        <div id="connection-status">En attente de connexion...</div>
      </div>
      
      <div class="main-content">
        <div class="stream-container">
          <video id="videoElement" autoplay playsinline></video>
          <div id="placeholder">En attente de la connexion à la caméra...</div>
        </div>
        
        <div class="info-panel">
          <div class="info-box">
            <h3>Détection de l'adresse réseau</h3>
            <p>Statut: <span id="detection-status">En cours...</span></p>
            <div id="ip-info" style="display: none;">
              <p>Adresse IP détectée: <strong id="ip-address">-</strong></p>
              <p>URL de connexion:</p>
              <div class="url-display" id="connection-url">-</div>
            </div>
          </div>
          
          <div class="error-box" id="error-box" style="display: none;">
            <h3>Erreur</h3>
            <p id="error-message"></p>
          </div>
          
          <div class="success-box" id="success-box" style="display: none;">
            <h3>Prêt à utiliser</h3>
            <p>Scannez le QR code ci-dessous avec votre téléphone pour vous connecter à la webcam.</p>
          </div>
          
          <div class="qr-container" id="qr-container" style="display: none;">
            <div id="qrcode"></div>
            <p>ou utilisez l'URL ci-dessus</p>
          </div>
          
          <div>
            <button id="refresh-ip" class="btn">Actualiser l'adresse IP</button>
          </div>
          
          <div class="footer">
            <p>Version de Chrome: <span id="chrome-version"></span></p>
            <p>Version de Node: <span id="node-version"></span></p>
            <p>Version d'Electron: <span id="electron-version"></span></p>
          </div>
        </div>
      </div>
    </div>
    
    <script src="renderer.js"></script>
  </body>
</html>